## 基于约束的知识图谱问答

[TOC]

KB ： knowledge base

知识图谱中有两种非常有名的基准数据集，就是 WebQuestions 和 SimpleQuestions.

但是和它们当中的一个的名字一样，这些问题大多都是“简单”问答。这些数据集不能特别良好地反映 KBQA （基于知识的问答） 系统在**复杂问题**上的工作能力。

所以，这群人发布了一个新的数据集，ComplexQuestions，主要用于检测 KBQA 系统在复杂问题上的处理能力。同时提出了一个新的 KBQA 方法来解决这些问题。这个方法与较为先进的方法在普通问题上的处理能力可以相提并论，并且在复杂问题的处理上有显著提升。

### 问题分类

#### 简单问题

可以通过单个 KB 关系解决的问题。或者说，问题与答案本身只构成了单个的 KB 三元组

#### 复杂问题

不能被单个 KB 关系反映的问题，答案被要求满足多种约束。比如“哪个电影被 A 执导且被 B 监制”这样。

（下参考Table 1）

- 多实体约束，问题存在多个实体以及关系
- 类型约束，答案应满足问题明确提及的类型
- 显式时间约束，显示的时间表达式比如 2012 年
- 隐式时间约束，隐式时间表达比如 内战开始时
- 顺序约束，根据某排名标准的序数，比如 中国第二长的河
- 聚集约束，询问某个集合的大小

### 数据集构造

1. 将实际搜索引擎的查询日志作为原始查询集
   - 没有代词
   - 查询长度不能过短过长
2. 检测实体，删除无实体查询
   - 非重叠实体 - 1
   - 类型短语 - 2
   - 检测到时间表达 - 3
   - when before after during - 4
   - 序数，最高级 - 5 （WordNet）
   - 数量 - 6

选择了上万个问题，手动标记最终获得 878 个多约束问题答案组。

最终数据及整合了 WebQuestion, Yin et al,. 2015, 复杂问答组共 2100 个QA. 训练-1300，测试-800

### 多约束问题图（比较朴素的定义）

#### 节点

方形的常量节点（grounded） & 圆形的变量节点（ungrounded or unknown）

#### 边

relational edge - 谓词关系，很常见

functional edge - 参阅 Table2，一般用于描述一些比较关系，位次关系和数量

#### 基础问题图

$<v_s,p,v_o>$

一个三元组，主语（常量节点），边 和隐藏的答案（变量节点）

#### 约束

$<v_s,r,v_o>$

一个三元组，常量节点，边和变量节点。

当然和上面那个不一样的是，边是 functional edge。基础问题图中并没有确认这个边是什么性质的。 

所有 $v_o$  中的实体应满足谓词关系和 r .

#### MulCG

一个基于单个问题的基础问题图 $B$ 和一个有序约束序列$C = \{C_1,...,C_n\}$

解决问题的方案为，先解决基础问题，得到答案集合。再在答案集合中逐个附加约束，可能用合适的边将答案中的实体连接，或直接整合成一个变量节点等。输出最终答案。



结合 Figure2 可以更好地理解这些定义。



MulCG 相比于一个叫 Yih 等人提出的 stage graph有一些优势

- 可以在单个 KB 之外添加实体约束
- 通过系统的方式定义与处理非实体约束



### 处理方法

#### 基础问题图生成

使用前人的方法 (Yang and Chang, 2015) 检测实体，设为常数顶点，找出**所有的**顶点-路径-顶点三元组。

路径为单跳或者为两跳的一个 predicate 关系

至于两跳 $<s, p_1-y_{cvt}-p2,x>$ 其中 $y_{cvy}$ 通常是一个多实体集合，存储某个时间的多个域。通过p2可以筛选出部分符合条件的实体（理解可能有误，参见脚注4）。

用一个卷积神经网络计算问题图生成的质量，即和原问题的契合程度。

此问题图用于单关系问题，我猜想它是为了获得未添加约束的初代结果集合。

#### 约束检测与绑定（分类）

这部分讲的基本就是约束检测与处理的细节，不是非常有意思，用到了相当多前人的工作。

总体思想仍是约束检测，附加到原本的问题图上缩小答案范围或者选出合适的答案。

一点点需要注意的是，在处理隐式时间约束的时候，可能会因为出现“美国内战的发生时间”而新跑一次 MulCG 得到 1861 作为显示时间约束添加进问题中。

#### 查找域生成

- 找到所有的实体

- 对于所有的实体

  - 生成所有的基础问题图

  - 将他们扔进 $H(Q)$

- 对于所有的基础问题图

  - 找到他们在问题中对应的约束集合
  - 对于约束集合的**所有排列**
    - 按排列添加约束
    - 将答案扔进 $H(Q)$

- 搞一个神经网络评分 $H(Q)$ （这东西我就说不清楚了）



### 总结

这东西在数据集 WebQuestions，SimpleQuestions 上有着和前人较为类似的表现，在ComplexQuestion （自行发布的）数据集上有着带头性质的成果，因为其他工作基本无法完成这个任务。





